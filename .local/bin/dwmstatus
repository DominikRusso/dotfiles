#!/bin/sh

# prints date to statusbar and waits until the next full second

# 995 instead of 1000 to compensate for duration of sed and printf
# that parameter might need tweaking on very slow or very fast systems

while true; do
    xsetroot -name " $(date '+%a %F %T') "
    # xsetroot -name " $(date '+%a %F %T.%3N') " # to see precision
    sleep 0."$(printf '%03d' $((995 - $(date +%3N | sed 's/^0*//'))))"
done
